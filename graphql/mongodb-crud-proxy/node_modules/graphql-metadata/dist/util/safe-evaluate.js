"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.safeEvaluate = void 0;
const vm2_1 = require("vm2");
function safeEvaluate(value) {
    const vm = new vm2_1.VM({
        timeout: 1000 * 60,
        sandbox: {
            metadata: undefined // this will contain the result
        }
    });
    vm.run(`metadata = ${value};`); // initialise the result in the script
    return vm.sandbox.metadata;
}
exports.safeEvaluate = safeEvaluate;
//# sourceMappingURL=safe-evaluate.js.map